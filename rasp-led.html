<link rel="import" href="../polymer/polymer.html">

<dom-module id="rasp-led">
    <script>
        class RaspLED {
            beforeRegister() {
                this.is = 'rasp-led';
                this.properties = {
                    pin: {
                        observer: 'initLED'
                    },
                    on: {
                        type: Boolean,
                        observer: 'onChanged'
                    }
                };

                this.jFive = require('johnny-five');
                const Raspio = require('raspi-io');
                const board = new this.jFive.Board({
                    io: new Raspio(),
                    repl: false
                });
            }

            initLED() {
                this.LED = new this.jFive.Led(this.pin);
            }

            onChanged() {
                this.on ? this.LED.on() : this.LED.off();
            }
        }

        Polymer(RaspLED);
    </script>
</dom-module>
